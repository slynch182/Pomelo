<!DOCTYPE html>
<html>
<head>
  <title>Simple Webpage</title>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <button type="button" id="googleLoginButton">Login using Google</button>
  <form method="POST" onsubmit="handleSubmit(event)">
    <input type="text" name="text" placeholder="Enter text here">
    <button type="submit">Submit</button>
  </form>
  <h2>Submitted Text</h2>
  <table>
    <thead>
      <tr>
        <th>Text</th>
        <th>Date and Time</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
  <script>
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_STORAGE_BUCKET",
      messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    
    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    document.getElementById("googleLoginButton").addEventListener("click", loginWithGoogle);

    function loginWithGoogle() {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider)
        .then((result) => {
          const user = result.user;
          console.log("User logged in: ", user.displayName);
        })
        .catch((error) => {
          console.error("Error during login: ", error);
        });
    }

    function handleSubmit(event) {
      event.preventDefault();
      const textInput = document.querySelector('input[name="text"]');
      const text = textInput.value;
      // Get the current date and time
      const now = new Date();
      // Format the date and time using the user's local timezone
      const formattedTime = new Intl.DateTimeFormat('default', {
        timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,
        hour: 'numeric',
        minute: 'numeric',
        second: 'numeric',
        day: 'numeric',
        month: '2-digit',
        year: 'numeric',
        timeZoneName: 'short'
      }).format(now);
      const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
      const tableBody = document.querySelector('tbody');
      const newRow = tableBody.insertRow();
      const textCell = newRow.insertCell();
      const timeCell = newRow.insertCell();
      textCell.textContent = text;
      timeCell.textContent = `${formattedTime} (${timezone})`;
      textInput.value = ''; // Clear the input box
      // Get the timezone and display it
      console.log("Timezone:", timezone);
    }
  </script>
</body>
</html>
